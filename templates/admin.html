{% extends "base.html" %}

{% block content %}
<h1 class="page-title">Panel Administrateur</h1>

<div class="admin-grid">

  <!-- Ajouter un article -->
  <div class="admin-card">
    <h2>Ajouter un article</h2>
    <form method="POST" action="/admin/add" enctype="multipart/form-data" class="form">
      <input type="text" name="nom" placeholder="Nom de l'article" required>
      <input type="number" name="prix" placeholder="Prix (€)" required>
      <textarea name="description" placeholder="Description" required></textarea>
      <input type="file" name="image" accept="image/*">
      <button type="submit" class="btn">Ajouter</button>
    </form>
  </div>

  <!-- Liste des articles -->
  <div class="admin-card">
    <h2>Articles existants</h2>
    <table class="table">
      <tr>
        <th>Nom</th>
        <th>Prix</th>
        <th>Action</th>
      </tr>
      {% for article in articles %}
      <tr>
        <td>{{ article.nom }}</td>
        <td>{{ article.prix }} €</td>
        <td>
          <a href="/admin/delete/{{ article.id }}" class="btn danger">Supprimer</a>
        </td>
      </tr>
      {% endfor %}
    </table>
  </div>

  <!-- Commandes -->
  <div class="admin-card">
    <h2>Commandes</h2>
    {% if commandes %}
      {% for c in commandes %}
        <div class="commande-box">
          <p><b>Utilisateur :</b> {{ c.utilisateur }}</p>
          <p><b>Article :</b> {{ c.article }}</p>
          <p><b>Quantité :</b> {{ c.quantite }}</p>
        </div>
      {% endfor %}
    {% else %}
      <p>Aucune commande pour le moment.</p>
    {% endif %}
  </div>

  <!-- Thème -->
  <div class="admin-card">
    <h2>Personnalisation du thème</h2>
    <form method="POST" action="/admin/theme" class="form">
      <label>Couleur principale :</label>
      <input type="color" name="primary" value="{{ couleurs.primary }}">
      <label>Couleur secondaire :</label>
      <input type="color" name="secondary" value="{{ couleurs.secondary }}">
      <button type="submit" class="btn">Mettre à jour</button>
    </form>
  </div>

</div>
{% endblock %}



