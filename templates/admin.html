{% extends "base.html" %}
{% block content %}
<h1 class="page-title">Panel Admin</h1>

<!-- Formulaire ajout produit -->
<section class="admin-section">
  <h2>âž• Ajouter un article</h2>
  <form method="post" enctype="multipart/form-data" class="form grid1">
    <input type="text" name="nom" placeholder="Nom" required>
    <input type="number" name="prix" placeholder="Prix (â‚¬)" step="0.01" required>
    <textarea name="description" placeholder="Description du produit"></textarea>
    <input type="file" name="image">
    <button type="submit" name="ajouter" class="btn">Ajouter</button>
  </form>
</section>

<!-- Changer couleurs -->
<section class="admin-section">
  <h2>ðŸŽ¨ ParamÃ¨tres de style</h2>
  <form method="post" class="form grid2">
    <label>Couleur principale</label>
    <input type="color" name="primary_color" value="{{ colors[0] }}">
    <label>Couleur secondaire</label>
    <input type="color" name="secondary_color" value="{{ colors[1] }}">
    <button type="submit" name="changer_couleurs" class="btn">Mettre Ã  jour</button>
  </form>
</section>

<!-- Liste des articles -->
<section class="admin-section">
  <h2>ðŸ“¦ Articles existants</h2>
  <table class="table">
    <thead><tr><th>Nom</th><th>Prix</th><th>Action</th></tr></thead>
    <tbody>
      {% for id, nom, prix, description, image in articles %}
      <tr>
        <td>{{ nom }}</td>
        <td>{{ "%.2f"|format(prix) }} â‚¬</td>
        <td>
          <form method="post">
            <button type="submit" name="supprimer" value="{{ id }}" class="btn danger">Supprimer</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</section>

<!-- Recherche commande -->
<section class="admin-section">
  <h2>ðŸ”Ž Rechercher une commande</h2>
  <form method="post" class="form grid1">
    <input type="text" name="code" placeholder="Code commande" required>
    <button type="submit" name="chercher" class="btn">Rechercher</button>
  </form>
  {% if commande %}
  <div class="commande-box">
    <p><b>Code :</b> {{ commande[1] }}</p>
    <p><b>Contenu :</b> {{ commande[2] }}</p>
    <p><b>Total :</b> {{ "%.2f"|format(commande[3]) }} â‚¬</p>
  </div>
  {% endif %}
</section>
{% endblock %}
